<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>複雑分岐診断デモ</title>
  <style>
    body { font-family: Roboto, Arial; background: #f1f3f4; display:flex; justify-content:center; padding:20px; }
    .form-container { background:#fff; padding:20px; border-radius:8px; max-width:500px; width:100%; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
    h1 { font-size:1.5em; margin-bottom:20px; }
    .hidden { display:none; }
    button { display:block; margin:10px 0; padding:10px; width:100%; background:#4285f4; color:white; border:none; border-radius:4px; font-size:16px; cursor:pointer; }
    button:hover { background:#3367d6; }
    .result-box { background:#e8f0fe; padding:15px; border-radius:6px; margin-top:20px; font-size:18px; white-space:pre-line; }
    input[type="text"] { padding:10px; width:100%; font-size:16px; margin-bottom:10px; border-radius:4px; border:1px solid #ccc; }
  </style>
</head>
<body>
  <div class="form-container">
    <h1>複雑分岐診断デモ</h1>

    <!-- 名前入力 -->
    <div id="nameInput">
      <p>あなたのお名前を入力してください：</p>
      <input type="text" id="userName" placeholder="例：田中太郎" />
      <button onclick="startDiagnosis()">次へ</button>
    </div>

    <!-- Aフロー -->
    <div id="A1" class="hidden">
      <p>質問A1: その子の学年は？</p>
      <button onclick="selectA('A-イ')">理系学部生</button>
      <button onclick="selectA('A-ロ')">理系院生</button>
      <button onclick="selectA('A-ハ')">文系学部生</button>
      <button onclick="selectA('A-ニ')">文系院生</button>
    </div>

    <!-- Bフロー -->
    <div id="B1" class="hidden">
      <p>質問B1: 就活もう始めてそう？</p>
      <button onclick="goToB('B2')">始めてる</button>
      <button onclick="goToB('B3')">始めてない or わからない</button>
    </div>

    <div id="B2" class="hidden">
      <p>質問B2: サマーインターンの調子どんな感じだった？</p>
      <button onclick="goToB('B10')">調子◯</button>
      <button onclick="goToB('B4')">調子× or わからない</button>
    </div>

    <div id="B3" class="hidden">
      <p>質問B3: 就活に対して前向き？？</p>
      <button onclick="goToB('B5')">Yes</button>
      <button onclick="goToB('B6')">No</button>
    </div>

    <div id="B4" class="hidden">
      <p>質問B4: エンカレ以外の就活支援団体使ってそう？</p>
      <button onclick="selectB('B-イ')">Yes</button>
      <button onclick="selectB('B-ロ')">No or 不明</button>
    </div>

    <div id="B5" class="hidden">
      <p>質問B5: 就活に充てる時間はありそう？</p>
      <button onclick="goToB('B7')">Yes</button>
      <button onclick="goToB('B8')">No</button>
    </div>

    <div id="B6" class="hidden">
      <p>質問B6: 進学考えてそう？</p>
      <button onclick="selectB('B-ハ')">Yes</button>
      <button onclick="selectB('B-ニ')">No</button>
    </div>

    <div id="B7" class="hidden">
      <p>質問B7: いつ頃就活始めるとか聞いた？</p>
      <button onclick="selectB('B-ホ')">秋</button>
      <button onclick="goToB('B9')">冬以降 or 未定</button>
    </div>

    <div id="B8" class="hidden">
      <p>質問B8: 忙しい理由知ってる？</p>
      <button onclick="selectB('B-ヘ')">学業or研究</button>
      <button onclick="selectB('B-ト')">バイトやサークル</button>
    </div>

    <div id="B9" class="hidden">
      <p>質問B9: 研究室推薦考えていそう？</p>
      <button onclick="selectB('B-チ')">Yes</button>
      <button onclick="selectB('B-リ')">No</button>
    </div>

    <div id="B10" class="hidden">
      <p>質問B10: どれくらいの企業数いくの？？</p>
      <button onclick="selectB('B-ヌ')">1~5</button>
      <button onclick="selectB('B-ル')">5~10</button>
      <button onclick="selectB('B-ヲ')">それ以上</button>
    </div>

    <!-- Cフロー -->
    <div id="C1" class="hidden">
      <p>質問C1: どんな進路を志望しているかわかる？</p>
      <button onclick="selectC('C-イ')">産</button>
      <button onclick="selectC('C-ロ')">官</button>
      <button onclick="selectC('C-ハ')">学</button>
      <button onclick="selectC('C-ニ')">院進</button>
      <button onclick="selectC('C-ホ')">未定 or 不明</button>
    </div>

    <!-- 結果表示 -->
    <div id="result" class="hidden">
      <h2>診断結果</h2>
      <div id="resultText" class="result-box"></div>
    </div>
  </div>

  <script>
    let userName = '';
    let A = '', B = '', C = '';

    function startDiagnosis() {
      const input = document.getElementById('userName').value.trim();
      if (input === '') {
        alert('名前を入力してください');
        return;
      }
      userName = input;
      document.getElementById('nameInput').classList.add('hidden');
      document.getElementById('A1').classList.remove('hidden');
    }

    function selectA(attr) {
      A = attr;
      document.getElementById('A1').classList.add('hidden');
      document.getElementById('B1').classList.remove('hidden');
    }

    function goToB(nextId) {
      const allB = ['B1','B2','B3','B4','B5','B6','B7','B8','B9','B10'];
      allB.forEach(id => document.getElementById(id).classList.add('hidden'));
      document.getElementById(nextId).classList.remove('hidden');
    }

    function selectB(attr) {
      B = attr;
      const allB = ['B1','B2','B3','B4','B5','B6','B7','B8','B9','B10'];
      allB.forEach(id => document.getElementById(id).classList.add('hidden'));
      document.getElementById('C1').classList.remove('hidden');
    }

    function selectC(attr) {
      C = attr;
      document.getElementById('C1').classList.add('hidden');

      const resultText = `${userName} さんの属性は：\n${A} × ${B} × ${C}`;
      document.getElementById('resultText').innerText = resultText;
      document.getElementById('result').classList.remove('hidden');

      // === 官志望（C-ロ）のとき：文章と画像（Drive経由）を表示 ===
if (C === "C-ロ") {
  const resultBox = document.getElementById('resultText');

  const msgWrap = document.createElement('div');
  msgWrap.style.marginTop = '24px';

  // 国家向けメッセージ
  const kokkaLabel = document.createElement('h3');
  kokkaLabel.textContent = '▶ 国家向けメッセージ';
  const kokkaArea = document.createElement('textarea');
  kokkaArea.rows = 8;
  kokkaArea.style.width = '100%';
  kokkaArea.style.marginBottom = '8px';
  kokkaArea.value = `お疲れ～！○○って公務員志望だっけ？
今自分就活してて、エンカレッジって言うところで東北大の１個上の人にサポートしてもらってるんだけど、公務員就職するメンターが公務員志望の人向けに公務員試験の相談とか公務員と民間就活の両立とか話してくれるらしい！
自分は就活してて一個上の経験者に相談してすごく役立ってるから、せっかくだし話聞いてみてほしい！その先輩から！↓

初めまして！エンカレッジというキャリア支援団体でメンターとして活動しております、東北大学4年の深澤と申します！
私自身、来年から国家公務員として働くので、試験や就活のことについてサポートできればと思い、この度××さんに協力いただいてご連絡しております！
是非一度詳細をお話しできればと思いますので少しだけお時間いただきたいです！ご連絡お待ちしております！`;

  const btn1 = document.createElement('button');
  btn1.textContent = '国家向けメッセージをコピー';
  btn1.onclick = () => {
    kokkaArea.select();
    document.execCommand('copy');
  };

  // 地方向けメッセージ
  const chihouLabel = document.createElement('h3');
  chihouLabel.textContent = '▶ 地方向けメッセージ';
  const chihouArea = document.createElement('textarea');
  chihouArea.rows = 10;
  chihouArea.style.width = '100%';
  chihouArea.style.marginBottom = '8px';
  chihouArea.value = `お疲れ〜！〇〇って公務員志望だよね？
今自分、就活でエンカレっていう団体に参加してて、東北大の先輩に色々サポートしてもらってるんだ。
実は、公務員志望向けに試験対策・面接カードの書き方・官庁訪問の流れとかを詳しく教えてくれるメンターさんがいるんだよ！
キャリアセンターでの面接対策もあるけど、向こうからの一方的なFBしかもらえないらしいんだけど、エンカレならFBに加えて回答を一緒にブラッシュアップできる！
自分は就活してて一個上の経験者に相談してすごく役立ってるから、せっかくだし話聞いてみてほしい！その先輩から！↓

初めまして！東北大学4年の遠藤と申します。
エンカレッジというキャリア支援団体で、公務員志望の学生向けにメンターをしています。

私自身、来年から地方公務員として働く予定で、実際に県庁試験の流れ（筆記→集団討論→面接）、官庁訪問での“よく聞かれた質問”、面接カードの添削経験など、体験ベースでお伝えできます。

また、民間就活との両立の工夫や、勉強がしんどくなった時の進め方なども実際に経験してきたので、リアルな話ができると思います。

1回30分くらいざっくばらんに相談できるので、ぜひ気軽に話してみませんか？😊`;

  const btn2 = document.createElement('button');
  btn2.textContent = '地方向けメッセージをコピー';
  btn2.onclick = () => {
    chihouArea.select();
    document.execCommand('copy');
  };

  // Googleドライブの画像（表示）
  const img = document.createElement('img');
  img.src = 'https://drive.google.com/uc?export=view&id=1idTI4ht-L7Uijk2MFGIKet6HPlHs7S1D';
  img.alt = '官志望向けビラ';
  img.style.width = '100%';
  img.style.margin = '24px 0';
  img.style.borderRadius = '12px';
  img.style.boxShadow = '0 2px 8px rgba(0,0,0,0.15)';

  // ダウンロードリンク（Drive）
  const dlLink = document.createElement('a');
  dlLink.href = 'https://drive.google.com/uc?export=download&id=1idTI4ht-L7Uijk2MFGIKet6HPlHs7S1D';
  dlLink.download = '';
  dlLink.textContent = 'ビラ画像（PNG）をダウンロード';
  dlLink.style.display = 'inline-block';
  dlLink.style.marginTop = '12px';
  dlLink.style.color = '#3367d6';
  dlLink.style.fontWeight = 'bold';

  // まとめて追加
  msgWrap.appendChild(kokkaLabel);
  msgWrap.appendChild(kokkaArea);
  msgWrap.appendChild(btn1);
  msgWrap.appendChild(document.createElement('hr'));
  msgWrap.appendChild(chihouLabel);
  msgWrap.appendChild(chihouArea);
  msgWrap.appendChild(btn2);
  msgWrap.appendChild(document.createElement('hr'));
  msgWrap.appendChild(img);
  msgWrap.appendChild(dlLink);

  resultBox.appendChild(msgWrap);
}

    }
  </script>
</body>
</html>
